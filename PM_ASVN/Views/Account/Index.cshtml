@model AccountModel
@using PM_ASVN.Models
@using PM_ASVN.Common
@{
    ViewBag.Title = "Account";
    var session = (AccountModel)Session[SessionAccount.ACCOUNT_SESSION];
}
@Html.Partial("_Modal")
<div class="row">
    <div class="col-md-12">
        <div class="portlet light ">
            <div class="portlet-title">
                <div class="caption">
                    <i class="icon-folder font-blue"></i>
                    <span class="caption-subject font-blue bold uppercase">List Account</span>
                </div>
                <div class="actions">
                    @if (session.Permission.Exists(p => p.Name == "Add_Account"))
                    {
                        <a class="btn blue" href="/Account/Add">+ New Account</a>
                    }
                </div>
            </div>
            <div class="portlet-body">
                @Html.Action("List", "Account", new { model = Model })
            </div>
        </div>
    </div>
</div>
<script>
    $(document).on("click", ".btn-modal", function () {
        var $modal = $('#myModal');
        var $modalDialog = $('.modal-dialog');
        var href = $(this).prop('href');
        var option = { backdrop: 'static' };
        $modalDialog.load(href, function () {
            $modal.modal(option, 'show');
        });
        return false;
    });
</script>
